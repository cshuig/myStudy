package com.utils;import org.junit.Before;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.http.MediaType;import org.springframework.web.context.WebApplicationContext;@RunWith(SpringJUnit4ClassRunner.class)@WebAppConfiguration(value = "src/main/webapp")@ContextHierarchy({        @ContextConfiguration(name = "parent",locations = "classpath*:applicationContext.xml"),})public class BaseJunit {    @Autowired    protected WebApplicationContext wac;    protected MockMvc mockMvc;    protected final MockHttpServletRequest request = new MockHttpServletRequest();    protected final MockHttpServletResponse response = new MockHttpServletResponse();    @Before    public void setup() {        this.mockMvc = webAppContextSetup(this.wac).build();    }    protected void initSessionUserForAdmin(MockHttpServletRequestBuilder mb){        mb.param("page", "1");        AdminUser user = new AdminUser();        user.setUsername("admin");        user.setUserpwd("c4ca4238a0b923820dcc509a6f75849b");        mb.sessionAttr("adminuser", user);    }    protected ResultActions mockMvcGet_bak(String url)throws Exception{        return mockMvc.perform(MockMvcRequestBuilders.get(url)).andDo(MockMvcResultHandlers.print());    }    protected ResultActions mockMvcPost_bak(String url, String jsonStr) throws Exception{        return mockMvc.perform(MockMvcRequestBuilders.post(url)                .contentType(MediaType.APPLICATION_JSON)                .content(jsonStr))                .andDo(MockMvcResultHandlers.print());    }    protected ResultActions mockMvcGet(String url) throws Exception{        MockHttpServletRequestBuilder mb = MockMvcRequestBuilders.get(url);        this.initSessionUserForAdmin(mb);        return mockMvc.perform(mb).andDo((print()));    }    protected ResultActions mockMvcPost(String url,String jsonStr) throws Exception{        MockHttpServletRequestBuilder mb = MockMvcRequestBuilders.post(url);        this.initSessionUserForAdmin(mb);        mb.contentType(MediaType.APPLICATION_JSON);        mb.content(jsonStr);        return mockMvc.perform(mb)                .andDo(MockMvcResultHandlers.print());    }}